
@startuml
title: Abstract FAIR architecture for standards base archival epositories
!include_many ../data-management-style.txt

!include_many ./authorization-components.puml


rectangle "FAIR + CARE \n\n"  as FAIR {
rectangle "  F  " as F
rectangle "  A   " as A
rectangle "  I  " as I
rectangle "  R"   as R
}
F -right[hidden]-> A
A -right[hidden]-> I
I -right-> R



rectangle "                Archival Repositories   \n\n"  as arch <<repository>> {
    rectangle "Discovery Services" as disco
    rectangle "APIs" as api
    database "  1  " as 1 
    database "  2  " as 2
    database "  3  " as 3
    database "  4  " as 4
    rectangle "ðŸ—‘ Policy based data management  preservation / disposal    " as arbin
     rectangle "Policy based Indentifiers    " as ids
   
}
rectangle "Standards" <<standards>> {
    
    package "RO-Crate" as ro {
        rectangle "Schema.org"
        rectangle "JSON-LD"
    }
    rectangle "PIDs" {
      rectangle "DOI"
      rectangle "ARCP"
      rectangle "Managed URIs"
    }
    rectangle "Profiles" {
        rectangle "Language Data" as ldac
        rectangle "Workflow Run" as wr
        ldac -down[hidden]-> wr
    }
}
ro -down-> Profiles
Profiles  -down[hidden]-> PIDs

database "FDO1" {

}

note left of FDO1: "FDO === FAIR Digital Object"

database "FDO2" {

}

I -up-> FDO1 
FDO1 -right-> ldac : Conforms to
FDO2 --down--> 1 : Deposit
FDO2 <--down-- 1 : Fetch
FDO2 <-up- R
disco <-> api
api -- A : Authorize\nall\nrequests
api <-down->1
api <-down->2
api <-down->3
api <-down->4
4 -down[hidden]-> arbin
2 -down[hidden]-> ids

FAIR -down[hidden]-> arch
F <--down--> disco
A --up--> lic
@enduml
