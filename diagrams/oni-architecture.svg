<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1087px" preserveAspectRatio="none" style="width:2333px;height:1087px;background:#FFFFFF;" version="1.1" viewBox="0 0 2333 1087" width="2333px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.2969" id="_title" style="stroke:none;stroke-width:1.0;" width="144" x="1087.6549" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="134" x="1092.6549" y="22.9951">Oni Architecture</text><!--MD5=[7a596149f46bec2a558023fe5788a3a9]
cluster Discovery Index--><g id="cluster_Discovery Index"><path d="M6,969.2969 C6,959.2969 553,959.2969 553,959.2969 C553,959.2969 1100,959.2969 1100,969.2969 L1100,1060.2969 C1100,1070.2969 553,1070.2969 553,1070.2969 C553,1070.2969 6,1070.2969 6,1060.2969 L6,969.2969 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M6,969.2969 C6,979.2969 553,979.2969 553,979.2969 C553,979.2969 1100,979.2969 1100,969.2969 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="166" x="470" y="998.0049">Discovery Index</text></g><!--MD5=[e80782f1b482eac396cdb863ab5a7a21]
cluster Data and license index--><g id="cluster_Data and license index"><path d="M333,225.2969 C333,215.2969 531,215.2969 531,215.2969 C531,215.2969 729,215.2969 729,225.2969 L729,316.2969 C729,326.2969 531,326.2969 531,326.2969 C531,326.2969 333,326.2969 333,316.2969 L333,225.2969 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M333,225.2969 C333,235.2969 531,235.2969 531,235.2969 C531,235.2969 729,235.2969 729,225.2969 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="235" x="413.5" y="254.0049">Data and license index</text></g><!--MD5=[334049d3a1ffeab5811ce8957a01f1ef]
cluster repo--><g id="cluster_repo"><path d="M356,678.2969 C356,668.2969 571.5,668.2969 571.5,668.2969 C571.5,668.2969 787,668.2969 787,678.2969 L787,785.2969 C787,795.2969 571.5,795.2969 571.5,795.2969 C571.5,795.2969 356,795.2969 356,785.2969 L356,678.2969 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M356,678.2969 C356,688.2969 571.5,688.2969 571.5,688.2969 C571.5,688.2969 787,688.2969 787,678.2969 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="111" x="516" y="707.0049">OCFL Repo</text></g><!--MD5=[0c107b9bb8aad869b21ca63b8e5fa104]
cluster Index--><g id="cluster_Index"><path d="M1024,678.2969 C1024,668.2969 1267,668.2969 1267,668.2969 C1267,668.2969 1510,668.2969 1510,678.2969 L1510,785.2969 C1510,795.2969 1267,795.2969 1267,795.2969 C1267,795.2969 1024,795.2969 1024,785.2969 L1024,678.2969 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M1024,678.2969 C1024,688.2969 1267,688.2969 1267,688.2969 C1267,688.2969 1510,688.2969 1510,678.2969 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="57" x="1238.5" y="707.0049">Index</text></g><!--MD5=[fac864e77539af95038f0151207ed802]
cluster API--><g id="cluster_API"><rect fill="none" height="122" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="481" x="1088" y="367.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="35" x="1311" y="386.0049">API</text></g><!--MD5=[0c4a738b3201a23a254af68352446157]
cluster auth--><g id="cluster_auth"><path d="M1871.7161,380.6922 C1878.9168,364.3385 1890.8536,363.341 1902.3329,376.2095 C1911.7845,363.1604 1924.766,365.447 1931.1662,379.4606 C1939.9465,365.5534 1951.3426,364.3696 1961.2369,378.2552 C1969.8687,363.7955 1984.3518,363.2809 1993.5473,377.6228 C2003.1489,364.3281 2014.8806,364.1808 2022.9209,379.2403 C2030.914,365.1342 2043.6326,363.5857 2051.8865,378.9842 C2059.9797,366.2738 2075.926,364.873 2083.7867,379.2579 C2090.4102,364.6852 2103.2114,362.2022 2113.3079,375.5912 C2124.2237,364.0385 2136.229,362.2504 2143.9941,379.0066 C2150.375,363.9549 2161.9854,364.198 2171.5408,375.7152 C2182.405,360.0578 2193.688,361.0908 2202.5548,377.6386 C2210.6084,365.0387 2220.6198,365.3792 2230.0503,376.0089 C2243.5116,360.6644 2253.7541,364.8936 2262.9598,380.5296 C2274.7968,365.3725 2285.8827,365.3025 2296,382.2969 C2299.4364,380.7267 2301.3031,383.1659 2300.8501,386.3037 C2320.6188,394.9046 2322.6317,410.1857 2304.839,422.8827 C2319.999,434.1809 2320.4687,449.0507 2304.6711,460.2097 C2324.8964,466.8992 2323.6262,483.6808 2309.9816,495.4713 C2325.0316,506.1835 2326.3097,522.6794 2307.0697,530.5447 C2322.7317,544.5958 2320.4984,562.1426 2299.2714,568.6431 C2314.8115,587.6652 2311.1155,601.3425 2289,611.2969 C2290.4782,611.5947 2290.7401,612.62 2290.0408,613.8171 C2281.3804,625.4779 2270.4966,628.7332 2261.8708,613.7804 C2256.2876,629.4219 2242.4241,628.8353 2234.2921,616.2726 C2226.0223,631.3387 2211.5798,634.3222 2200.8878,618.9289 C2191.7657,632.4862 2181.4423,632.7925 2173.6609,617.6567 C2165.1053,633.4298 2153.4854,634.0128 2143.8079,618.7353 C2132.9159,637.5464 2121.5939,633.0648 2109.9274,619.5471 C2099.9213,634.245 2089.1387,631.3038 2080.5532,618.054 C2071.3887,634.7817 2057.4805,632.5651 2048.4853,617.8811 C2042.0527,632.015 2029.4245,632.8193 2020.3007,620.779 C2011.217,636.9881 1996.9377,634.7985 1989.3822,619.2894 C1981.5943,630.4103 1968.6839,632.4615 1962.1923,617.9162 C1952.5387,632.826 1938.0043,627.2373 1932.098,613.9209 C1921.0068,629.1579 1910.7748,629.2372 1898.9352,614.7561 C1880.6136,630.4916 1868.8147,626.6697 1861,604.2969 C1862.193,604.3398 1862.5946,605.3108 1861.9261,606.2406 C1842.1198,596.3376 1842.9055,578.5402 1862.896,569.6932 C1844.0016,558.0284 1848.5097,542.1082 1865.4796,532.9663 C1848.7983,522.139 1847.4397,510.156 1865.0792,498.9249 C1844.9271,486.283 1847.731,475.0032 1864.4192,461.708 C1843.0452,452.1232 1842.6006,436.7131 1861.4298,423.9457 C1838.8893,407.3767 1839.5107,384.9742 1868,375.2969 C1871.4876,375.3159 1873.4424,377.082 1871.7161,380.6922 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="435" x="1861" y="397.0049">Authentication and Authorizatio Services</text></g><!--MD5=[770389ab9df153645bc6ef28055eb2b5]
entity A--><g id="elem_A"><rect fill="#F1F1F1" height="40.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="32" x="522" y="1013.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="12" x="532" y="1040.0049">A</text></g><!--MD5=[b2d39259b6aeabc16b394deeb0238426]
entity B--><g id="elem_B"><rect fill="#F1F1F1" height="40.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="230" x="589" y="1013.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="210" x="599" y="1040.0049">Sub Collection Books 1</text></g><!--MD5=[16fab723be418f7eaf2ea4bd895a8e51]
entity C--><g id="elem_C"><rect fill="#F1F1F1" height="40.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="230" x="854" y="1013.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="210" x="864" y="1040.0049">Sub Collection Books 1</text></g><!--MD5=[118f42602524ad482f02b27ef22fc383]
entity D--><g id="elem_D"><rect fill="#F1F1F1" height="40.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="219" x="144.5" y="1013.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="199" x="154.5" y="1040.0049">Small video collection</text></g><!--MD5=[68f82070d0aec4ff4b64d9b1102926da]
entity E--><g id="elem_E"><rect fill="#F1F1F1" height="40.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="399" y="1013.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="68" x="409" y="1040.0049">Video 1</text></g><!--MD5=[22029b2902cbfefb11350e8ee6e306b3]
entity F--><g id="elem_F"><rect fill="#F1F1F1" height="40.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="22.5" y="1013.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="67" x="32.5" y="1040.0049">Video 2</text></g><!--MD5=[df3f65bb428d6182b9f1cb89f779efa3]
entity o1--><g id="elem_o1"><rect fill="#F1F1F1" height="40.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="482" y="269.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="78" x="492" y="296.0049">Object 1</text></g><!--MD5=[faa3f1ca3e3ede7fe61b43e7609f74ed]
entity o2--><g id="elem_o2"><rect fill="#F1F1F1" height="40.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="615.5" y="269.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="77" x="625.5" y="296.0049">Object 2</text></g><!--MD5=[91a7def950dc2912dd17b4769d76dcc2]
entity o3--><g id="elem_o3"><rect fill="#F1F1F1" height="40.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="349.5" y="269.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="77" x="359.5" y="296.0049">Object 3</text></g><!--MD5=[f6e0ab9448c40874c4b5feba77f73452]
entity ro1--><g id="elem_ro1"><rect fill="#F1F1F1" height="40.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="513" y="730.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="78" x="523" y="757.0049">Object 1</text></g><!--MD5=[be05266265b81136e79df6382583bbc1]
entity ro2--><g id="elem_ro2"><rect fill="#F1F1F1" height="40.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="646.5" y="730.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="77" x="656.5" y="757.0049">Object 2</text></g><!--MD5=[27204786345acc1b9c9a4124aad14474]
entity ro3--><g id="elem_ro3"><rect fill="#F1F1F1" height="40.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="380.5" y="730.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="77" x="390.5" y="757.0049">Object 3</text></g><!--MD5=[15184a5e055a12ac19731e9f6fb7caf9]
entity ii--><g id="elem_ii"><rect fill="#F1F1F1" height="40.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="215" x="1067.5" y="730.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="195" x="1077.5" y="757.0049">Data &amp; License index</text></g><!--MD5=[1088c149b6bd3a70d07f180d17b4a032]
entity ai--><g id="elem_ai"><rect fill="#F1F1F1" height="40.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="1318" y="730.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="148" x="1328" y="757.0049">Discovery Index</text></g><!--MD5=[3585e71188c10028f3e15694d6f9d304]
entity Indexer--><g id="elem_Indexer"><rect fill="#F1F1F1" height="40.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="895" y="871.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="70" x="905" y="898.0049">Indexer</text></g><!--MD5=[00b4040e603364f3b74d798c0912c1e4]
entity conf--><g id="elem_conf"><rect fill="#F1F1F1" height="40.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="1108" y="871.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="58" x="1118" y="898.0049">Config</text></g><!--MD5=[f068e2f926177c966375ee9db853955e]
entity iapi--><g id="elem_iapi"><rect fill="#F1F1F1" height="50.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="1131" y="414.2969"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1199" y="419.2969"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1197" y="421.2969"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1197" y="425.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="48" x="1146" y="451.0049">item/</text></g><!--MD5=[f3dceb399c6fed94b177fe43ede2a19a]
entity qapi--><g id="elem_qapi"><rect fill="#F1F1F1" height="50.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="1254" y="414.2969"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1334" y="419.2969"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1332" y="421.2969"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1332" y="425.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="60" x="1269" y="451.0049">query/</text></g><!--MD5=[7e280c3f70c48d5961513cb2f615199c]
entity lic--><g id="elem_lic"><rect fill="#F1F1F1" height="50.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="1389.5" y="414.2969"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1524.5" y="419.2969"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1522.5" y="421.2969"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1522.5" y="425.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="115" x="1404.5" y="451.0049">license filter</text></g><!--MD5=[34f17b7e926708e93e07ed8315fb1008]
entity CILogon--><g id="elem_CILogon"><rect fill="#F1F1F1" height="50.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="1984" y="414.2969"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="2076" y="419.2969"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2074" y="421.2969"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2074" y="425.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="72" x="1999" y="451.0049">CILogon</text></g><!--MD5=[9b6eb0dd9703fe6d43ee2cada6092c69]
entity Mukurtu--><g id="elem_Mukurtu"><rect fill="#F1F1F1" height="50.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="2131" y="414.2969"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="2231" y="419.2969"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2229" y="421.2969"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2229" y="425.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="80" x="2146" y="451.0049">Mukurtu</text></g><!--MD5=[80ceb6aaded45058e3204fdb17f5ebaa]
entity ...--><g id="elem_..."><rect fill="#F1F1F1" height="50.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="58" x="2011" y="544.2969"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="2049" y="549.2969"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2047" y="551.2969"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2047" y="555.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="18" x="2026" y="581.0049">...</text></g><!--MD5=[c42ed81cef7fdd2e33758127945b9a5b]
entity UI--><g id="elem_UI"><rect fill="#F1F1F1" height="40.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="39" x="1219.5" y="44.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="19" x="1229.5" y="71.0049">UI</text></g><g id="elem_GMN17"><path d="M26.5,554.2969 L26.5,585.25 L229.5,585.25 L229.5,564.2969 L219.5,554.2969 L26.5,554.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M219.5,554.2969 L219.5,564.2969 L229.5,564.2969 L219.5,554.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="182" x="32.5" y="576.0049">Complete collection</text></g><g id="elem_GMN20"><path d="M717.5,554.2969 L717.5,585.25 L986.5,585.25 L986.5,564.2969 L976.5,554.2969 L717.5,554.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M976.5,554.2969 L976.5,564.2969 L986.5,564.2969 L976.5,554.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="248" x="723.5" y="576.0049">Two sub collection records</text></g><g id="elem_GMN23"><path d="M336,554.2969 L336,585.25 L540,585.25 L540,564.2969 L530,554.2969 L336,554.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M530,554.2969 L530,564.2969 L540,564.2969 L530,554.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="183" x="342" y="576.0049">Single data objectm</text></g><!--MD5=[609bc0be60b481ed10417a5dcbeddf88]
link GMN17 to ro3--><g id="link_GMN17_ro3"><path d="M152.632,585.4449 C206.548,617.5079 335.047,693.9249 395.927,730.1289 " fill="none" id="GMN17-ro3" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[0508c69fad83564a211ff8fff3e71302]
link GMN20 to ro2--><g id="link_GMN20_ro2"><path d="M827.512,585.5069 C804.551,600.2179 770.349,624.5949 747,652.2969 C726.847,676.2069 711.276,709.1959 702.623,730.0099 " fill="none" id="GMN20-ro2" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[2caaa72cbf202f8b909069a17a9c5195]
link GMN23 to ro1--><g id="link_GMN23_ro1"><path d="M448.334,585.4949 C459.781,601.7949 478.768,628.8839 495,652.2969 C513.606,679.1349 534.945,710.2459 548.446,729.9699 " fill="none" id="GMN23-ro1" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[ecb1f817bcfbaac78217fa3a42a25d9b]
link ro1 to A--><g id="link_ro1_A"><path d="M560.312,771.5559 C556.043,821.5379 544.822,952.9279 540.12,1007.9758 " fill="none" id="ro1-to-A" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="539.686,1013.0594,544.4378,1004.4327,540.1117,1008.0775,536.4669,1003.7515,539.686,1013.0594" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[64a522c25b8ea5ac1b29de1718a35979]
link ro2 to B--><g id="link_ro2_B"><path d="M695.633,771.5559 C697.234,821.5379 701.442,952.9279 703.205,1007.9758 " fill="none" id="ro2-to-B" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="703.368,1013.0594,707.0777,1003.9359,703.2078,1008.0619,699.0818,1004.1921,703.368,1013.0594" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[fb2547633b83ef4d6b93c09bcd6cd173]
link ro2 to C--><g id="link_ro2_C"><path d="M711.533,771.3869 C721.593,783.1369 734.812,798.2769 747,811.2969 C816.564,885.6139 902.933,969.5259 944.454,1009.3766 " fill="none" id="ro2-to-C" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="948.33,1013.0937,944.6017,1003.9778,944.7208,1009.6334,939.0652,1009.7525,948.33,1013.0937" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a6365476d4610b81abd4c1065de38056]
link ro3 to D--><g id="link_ro3_D"><path d="M416.694,771.5559 C385.441,821.7399 303.079,953.9889 269.046,1008.638 " fill="none" id="ro3-to-D" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="266.292,1013.0594,274.4452,1007.5344,268.9352,1008.8152,267.6545,1003.3052,266.292,1013.0594" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1d571d65fb136bfe109516f4250d0856]
link ro3 to E--><g id="link_ro3_E"><path d="M429.984,771.5559 C432.475,821.5379 439.021,952.9279 441.763,1007.9758 " fill="none" id="ro3-to-E" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="442.017,1013.0594,445.5639,1003.8714,441.768,1008.0656,437.5738,1004.2697,442.017,1013.0594" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e5829d3d8adc9a092de1236f5f87ba30]
link ro3 to F--><g id="link_ro3_F"><path d="M390.734,771.4389 C330.332,803.6169 211.122,871.9759 127,951.2969 C108.745,968.5099 91.977,991.6966 80.6609,1008.9371 " fill="none" id="ro3-to-F" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="77.9038,1013.1849,86.1589,1007.8134,80.626,1008.9908,79.4485,1003.4579,77.9038,1013.1849" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1822b54ae9510f1c940fb62336a04f17]
reverse link o1 to ro1--><g id="link_o1_ro1"><path d="M534.175,315.4629 C539.857,360.7229 551.667,460.1189 557,544.2969 C561.321,612.5019 561.975,693.6579 562.031,730.2239 " fill="none" id="o1-backto-ro1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="533.546,310.4749,530.7039,319.9047,534.1718,315.4356,538.641,318.9035,533.546,310.4749" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[aa92147b066361e3b85fc7f86cc017c9]
reverse link o2 to ro2--><g id="link_o2_ro2"><path d="M665.678,315.6389 C671.195,397.3219 688.703,656.5599 693.673,730.1479 " fill="none" id="o2-backto-ro2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="665.332,310.5199,661.948,319.7691,665.6691,315.5085,669.9298,319.2297,665.332,310.5199" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[f3c79f52a58b3eb9c3b57b71fc580ab4]
reverse link o3 to ro3--><g id="link_o3_ro3"><path d="M382.724,314.7739 C348.337,371.9699 271.373,520.2129 318,635.2969 C334.426,675.8399 372.858,709.9529 399.876,730.1299 " fill="none" id="o3-backto-ro3" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="385.322,310.4919,377.2342,316.1122,382.7288,314.7668,384.0741,320.2614,385.322,310.4919" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[ea8bcb35447273a6af027e193028dc94]
reverse link repo to Indexer--><g id="link_repo_Indexer"><path d="M787.0227,765.2608 C787.5332,766.08 788.0657,766.9288 788.6195,767.8049 C789.7273,769.557 790.9205,771.4183 792.1938,773.3708 C794.7403,777.2758 797.6072,781.5455 800.751,786.0359 C813.3263,803.9974 830.333,825.4899 849,841.2969 C862.862,853.0349 879.951,863.2159 895.562,871.2419 " fill="none" id="repo-backto-Indexer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="787.0227,765.2608,788.3873,775.0146,789.6668,769.5044,795.1771,770.784,787.0227,765.2608" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="117" x="850" y="837.0049">Scan objects</text></g><!--MD5=[b1e4c61273e27678c422f186e7f806a0]
link Indexer to conf--><g id="link_Indexer_conf"><path d="M985.171,891.7969 C1020.09,891.7969 1068.17,891.7969 1102.84,891.7969 " fill="none" id="Indexer-to-conf" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1107.85,891.7969,1098.85,887.7969,1102.85,891.7969,1098.85,895.7969,1107.85,891.7969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="86" x="1003.5" y="884.5049">Consume</text></g><!--MD5=[1385f73f0a5ad3920dcb021e41f32b0b]
reverse link Index to Indexer--><g id="link_Index_Indexer"><path d="M1023.9545,763.9523 C1023.8745,764.0733 1023.7939,764.1951 1023.7129,764.3176 C1023.5507,764.5625 1023.3866,764.8105 1023.2206,765.0614 C1022.8885,765.5632 1022.5486,766.0767 1022.2013,766.6016 C1016.644,774.9988 1009.1732,786.2864 1000.9919,798.6473 C984.6293,823.3689 965.4245,852.3834 953.001,871.1539 " fill="none" id="Index-backto-Indexer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1023.9545,763.9523,1015.6519,769.2501,1021.1952,768.122,1022.3233,773.6652,1023.9545,763.9523" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="51" x="987" y="837.0049">Write</text></g><!--MD5=[f88b9d66d0d532a6730ca4f1adfeac22]
link lic to auth--><g id="link_lic_auth"><path d="M1544.77,439.7969 C1604.06,439.7969 1687.145,439.7969 1757.0625,439.7969 C1792.0213,439.7969 1823.6881,439.7969 1847.4428,439.7969 C1848.9275,439.7969 1850.3812,439.7969 1851.803,439.7969 C1852.1584,439.7969 1852.5118,439.7969 1852.8632,439.7969 " fill="none" id="lic-to-auth" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1852.8632,439.7969,1843.8632,435.7969,1847.8632,439.7969,1843.8632,443.7969,1852.8632,439.7969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="310" x="1562.57" y="432.5049">Get user's group/license holdings</text></g><!--MD5=[ba6fd5e1d1e0bada2db470751444165d]
link UI to qapi--><g id="link_UI_qapi"><path d="M1258.28,85.5269 C1277.18,106.3589 1304.73,141.1379 1316,177.2969 C1341.24,258.2549 1323.31,360.1199 1311.73,409.4059 " fill="none" id="UI-to-qapi" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1310.57,414.2949,1316.5556,406.4736,1311.7342,409.4323,1308.7754,404.6109,1310.57,414.2949" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="150" x="1323" y="195.0049">Construct views</text></g><!--MD5=[71f62f9106cd2d5ef32519a6fb93ddd3]
link UI to iapi--><g id="link_UI_iapi"><path d="M1219.28,77.1269 C1191.26,94.5089 1141.08,130.7049 1121,177.2969 C1086.7,256.8949 1131.31,359.7109 1157.86,409.3719 " fill="none" id="UI-to-iapi" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1160.37,414.0089,1159.6064,404.1897,1157.9912,409.611,1152.5698,407.9958,1160.37,414.0089" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="189" x="1122" y="195.0049">Get data for viewing</text></g><!--MD5=[ebd80ca063176a0a3ba3834e7943eb4f]
link iapi to ii--><g id="link_iapi_ii"><path d="M1175,465.3019 C1175,522.9659 1175,666.7409 1175,724.8459 " fill="none" id="iapi-to-ii" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1175,730.1959,1179,721.1959,1175,725.1959,1171,721.1959,1175,730.1959" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="227" x="1176" y="566.0049">Consult for get requests</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="187" x="1196" y="586.958">for Objects and files</text></g><!--MD5=[f7442b725b2441721ef7fbfac0ce0a20]
link qapi to ai--><g id="link_qapi_ai"><path d="M1329.97,465.4519 C1361.75,495.6509 1411.45,542.9979 1412,544.2969 C1437.89,604.9789 1421.22,685.0739 1409.92,724.9799 " fill="none" id="qapi-to-ai" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1408.43,730.1059,1414.7696,722.5686,1409.817,725.3021,1407.0835,720.3495,1408.43,730.1059" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="248" x="1427" y="566.0049">Consult for queries / views</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="170" x="1466" y="586.958">*with license filter</text></g><!--MD5=[5c68e9d1feadd230a2d20a808c9564d1]
link API to repo--><g id="link_API_repo"><path d="M1087.9233,472.6519 C1087.788,473.1227 1087.6509,473.5975 1087.512,474.0763 C1086.4009,477.9064 1085.1742,481.9889 1083.8284,486.2811 C1081.1368,494.8656 1077.9684,504.2889 1074.2938,514.2099 C1059.595,553.8936 1036.795,601.5384 1004,635.2969 C965.5185,674.9074 910.4113,703.2636 864.3664,721.8485 C841.3439,731.1409 820.5871,737.9905 805.3069,742.5826 C801.4868,743.7307 798.009,744.7376 794.9237,745.6063 C793.3811,746.0407 791.9365,746.4405 790.5964,746.8062 C789.9263,746.989 789.2823,747.1632 788.6652,747.329 C788.3567,747.4119 788.0548,747.4927 787.7598,747.5713 C787.6123,747.6106 787.4665,747.6494 787.3224,747.6877 " fill="none" id="API-to-repo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="787.3224,747.6877,797.0476,749.2439,792.155,746.4044,794.9944,741.5118,787.3224,747.6877" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="46" x="1064" y="576.5049">Read</text></g><!--MD5=[dcf8495c4335346090120166d69c1c07]
@startuml
skinparam defaultFontSize 18
title: Oni Architecture

database "Discovery Index" {
    rectangle "A" {

    }
        rectangle "Object, Diaglogue" as A {
        
    }
        rectangle "Sub Collection Books 1" as B {
        
    }
        rectangle "Sub Collection Books 1" as C {
        
    }
        rectangle "Small video collection"  as D{
        
    }
        rectangle "Video 1" as E {
        
    }
           rectangle "Video 2" as F {
        
    }

}

database "Data and license index" {
       rectangle "Object 1" as o1 {

    }
    rectangle "Object 2" as o2 {
        
    }
   rectangle "Object 3" as o3 {
        
    }

}



database "OCFL Repo" as repo {
    rectangle "Object 1" as ro1 {

    }
    rectangle "Object 2"  as ro2 {
        
    }
   rectangle "Object 3" as ro3 {
        
    }
}

note top of ro3: Complete collection
note top of ro2: Two sub collection records
note top of ro1: Single data objectm
ro1 - - -> A
ro2 - - -> B
ro2 - - -> C
ro3 - - -> D
ro3 - - -> E
ro3 - - -> F

ro1 - -up- -> o1
ro2 - -up- -> o2
ro3 - -up- -> o3






database "Index" {
rectangle "Data & License index" as ii {

}
rectangle "Discovery Index" as ai {

}
}

database ".......... OCFL Repo .............. \n\n\n\n\n\n\n\n\n\n\n\n" as repo {
    
}

rectangle "Indexer" {

}

rectangle "Config" as conf {

}

Indexer -up-> repo : Scan objects
Indexer -> conf : Consume
Indexer -up-> Index : Write

rectangle "API" {
    [item/] as iapi
    [query/] as qapi
    [license filter] as lic

}

cloud "Authentication and Authorizatio Services" as auth {
    [CILogon]
    [Mukurtu]
    [...]

}

rectangle "UI" {
  
}
lic -> auth : Get user's group/license holdings
UI - -down- -> qapi : Construct views
UI - -down- -> iapi : Get data for viewing
iapi - -down-> ii : Consult for get requests\nfor Objects and files
qapi - -down-> ai : Consult for queries / views\n*with license filter

API - -down->  repo : Read
@enduml

PlantUML version 1.2022.8beta9(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>